<!-- Common head includes for all pages -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="theme-color" content="#3b82f6">
<link rel="icon" type="image/x-icon" href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAAF0lEQVRIx2NgGAWjYBSMglEwCkbBSAcACAABAAGnRwxcAAAAAElFTkSuQmCC">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer">
<!-- Authentication wrapper to prevent 401 errors -->
<script src="{{ url_for('static', filename='auth-wrapper.js') }}"></script>
<!-- Clean Professional Design System - Primary Styling -->
<link rel="stylesheet" href="{{ url_for('static', filename='clean-professional.css') }}">
<!-- Clean Login Page Styles -->
<link rel="stylesheet" href="{{ url_for('static', filename='clean-login.css') }}">
<!-- Modern Menu System -->
<script src="/static/modern-menu.js" defer></script>
<!-- CONSOLIDATED MENU FIX - Load last to override all conflicts -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/menu-fix-consolidated.css') }}">
<!-- Consolidated Dropdown Fix JavaScript - Load last to ensure proper functionality -->
<script src="{{ url_for('static', filename='js/dropdown-fix-consolidated.js') }}" defer></script>
<script>
// Check if Font Awesome loaded properly
document.addEventListener('DOMContentLoaded', function() {
    // Simple test: check if the Font Awesome stylesheet is in the document
    const isFontAwesomeLoaded = Array.from(document.styleSheets).some(sheet => {
        try {
            return sheet.href && sheet.href.includes('font-awesome');
        } catch (e) {
            return false;
        }
    });
    
    if (!isFontAwesomeLoaded) {
        console.error('Font Awesome not loaded properly. Attempting to reload...');
        // Try to reload the stylesheet if not loaded
        const fontAwesomeLink = document.createElement('link');
        fontAwesomeLink.rel = 'stylesheet';
        fontAwesomeLink.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css';
        fontAwesomeLink.integrity = 'sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==';
        fontAwesomeLink.crossOrigin = 'anonymous';
        fontAwesomeLink.referrerPolicy = 'no-referrer';
        document.head.appendChild(fontAwesomeLink);
    }
});
</script>
