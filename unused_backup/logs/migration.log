2025-05-15 20:08:41,255 - migration - INFO - Starting user break preferences migration
2025-05-15 20:08:41,256 - migration - INFO - Adding column prefer_consolidated_breaks to user_settings
2025-05-15 20:08:41,259 - migration - INFO - Adding column break_timing_strategy to user_settings
2025-05-15 20:08:41,261 - migration - INFO - Adding column min_break_duration to user_settings
2025-05-15 20:08:41,264 - migration - INFO - Adding column max_breaks_per_day to user_settings
2025-05-15 20:08:41,266 - migration - INFO - Adding column preferred_break_spacing to user_settings
2025-05-15 20:08:41,268 - migration - INFO - User break preferences migration completed successfully
2025-05-15 20:51:59,676 - migration - INFO - Starting user break preferences migration
2025-05-15 20:51:59,677 - migration - INFO - Column prefer_consolidated_breaks already exists in user_settings
2025-05-15 20:51:59,677 - migration - INFO - Column break_timing_strategy already exists in user_settings
2025-05-15 20:51:59,677 - migration - INFO - Column min_break_duration already exists in user_settings
2025-05-15 20:51:59,677 - migration - INFO - Column max_breaks_per_day already exists in user_settings
2025-05-15 20:51:59,678 - migration - INFO - Column preferred_break_spacing already exists in user_settings
2025-05-15 20:51:59,678 - migration - INFO - User break preferences migration completed successfully
2025-05-20 17:33:35,683 - migration - INFO - Starting temporary passwords migration
2025-05-20 17:33:35,683 - migration - INFO - Adding verification_hash column to temp_passwords table
2025-05-20 17:33:35,684 - migration - INFO - Migrating 8 existing temporary password records
2025-05-20 17:33:35,852 - migration - INFO - Updated temporary password for user 1 with hash and verification hash
2025-05-20 17:33:36,021 - migration - INFO - Updated temporary password for user 2 with hash and verification hash
2025-05-20 17:33:36,186 - migration - INFO - Updated temporary password for user 3 with hash and verification hash
2025-05-20 17:33:36,352 - migration - INFO - Updated temporary password for user 4 with hash and verification hash
2025-05-20 17:33:36,525 - migration - INFO - Updated temporary password for user 5 with hash and verification hash
2025-05-20 17:33:36,692 - migration - INFO - Updated temporary password for user 9 with hash and verification hash
2025-05-20 17:33:36,859 - migration - INFO - Updated temporary password for user 11 with hash and verification hash
2025-05-20 17:33:37,026 - migration - INFO - Updated temporary password for user 12 with hash and verification hash
2025-05-20 17:33:37,027 - migration - INFO - Migration of temporary passwords completed successfully
2025-05-22 08:47:54,717 - password_migration - INFO - Starting password migration from temp_passwords to users table
2025-05-22 08:47:54,721 - password_migration - INFO - Database backup created at /Users/michalkopecki/Desktop/Projects/BTZ Zeiterfassung/btz-zeiterfassung/attendance_backup_1747896474.db
2025-05-22 08:47:54,721 - password_migration - INFO - Adding plain_password column to users table
2025-05-22 08:47:54,722 - password_migration - INFO - Adding verification_hash column to users table
2025-05-22 08:47:54,722 - password_migration - INFO - Adding last_password_change column to users table
2025-05-22 08:47:54,722 - password_migration - ERROR - Migration failed: Cannot add a column with non-constant default
2025-05-22 08:48:31,777 - password_migration - INFO - Starting password migration from temp_passwords to users table
2025-05-22 08:48:31,779 - password_migration - INFO - Database backup created at /Users/michalkopecki/Desktop/Projects/BTZ Zeiterfassung/btz-zeiterfassung/attendance_backup_1747896511.db
2025-05-22 08:48:31,779 - password_migration - INFO - Adding last_password_change column to users table
2025-05-22 08:48:31,779 - password_migration - INFO - Found 11 temporary password entries to migrate
2025-05-22 08:48:31,780 - password_migration - INFO - Updated user 1 with password data
2025-05-22 08:48:31,780 - password_migration - INFO - Updated user 2 with password data
2025-05-22 08:48:31,780 - password_migration - INFO - Updated user 3 with password data
2025-05-22 08:48:31,780 - password_migration - INFO - Updated user 4 with password data
2025-05-22 08:48:31,780 - password_migration - INFO - Updated user 5 with password data
2025-05-22 08:48:31,780 - password_migration - INFO - Updated user 6 with password data
2025-05-22 08:48:31,780 - password_migration - INFO - Updated user 9 with password data
2025-05-22 08:48:31,780 - password_migration - INFO - Updated user 11 with password data
2025-05-22 08:48:31,780 - password_migration - INFO - Updated user 12 with password data
2025-05-22 08:48:31,780 - password_migration - INFO - Updated user 14 with password data
2025-05-22 08:48:31,780 - password_migration - INFO - Updated user 15 with password data
2025-05-22 08:48:31,780 - password_migration - INFO - Password data migration completed successfully
2025-05-22 08:48:31,781 - password_migration - INFO - Renamed temp_passwords table to temp_passwords_old for backup
